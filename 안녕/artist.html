<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAVE A NICE TRIP 2025 - Artists</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: #f5f5f5;
            min-height: 100vh;
        }
        
        .header {
            background: white;
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .menu-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
        }
        
        .festival-title {
            font-size: 1.8rem;
            font-weight: normal;
            color: #666;
            letter-spacing: 2px;
        }
        
        .ticket-btn {
            background: none;
            border: 2px solid #666;
            padding: 10px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            color: #666;
            transition: all 0.3s ease;
        }
        
        .ticket-btn:hover {
            background: #666;
            color: white;
        }
        
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        
        .day-tabs {
            display: flex;
            justify-content: center;
            gap: 60px;
            margin-bottom: 60px;
        }
        
        .day-tab {
            font-size: 1.5rem;
            color: #999;
            cursor: pointer;
            transition: color 0.3s ease;
            position: relative;
        }
        
        .day-tab.active {
            color: #333;
            font-weight: bold;
        }
        
        .day-tab.active::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 30px;
            height: 3px;
            background: #333;
        }
        
        .artist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .artist-card {
            position: relative;
            aspect-ratio: 1;
            background: white;
            border-radius: 0;
            cursor: pointer;
            overflow: visible;
            transition: all 0.3s ease;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .artist-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 30px rgba(0,0,0,0.15);
        }
        
        .artist-image {
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #ccc;
            font-size: 1.2rem;
            position: relative;
        }
        
        .artist-image::before,
        .artist-image::after {
            content: '';
            position: absolute;
            background: #ddd;
        }
        
        .artist-image::before {
            top: 20px;
            left: 20px;
            right: 80px;
            bottom: 80px;
        }
        
        .artist-image::after {
            bottom: 20px;
            right: 20px;
            left: 80px;
            top: 80px;
        }
        
        .artist-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: white;
            text-align: center;
            padding: 40px;
            animation: fadeIn 0.4s ease;
        }
        
        .artist-overlay.active {
            display: flex;
        }
        
        .artist-name {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 15px;
            line-height: 1.2;
        }
        
        .artist-country {
            font-size: 1.3rem;
            margin-bottom: 20px;
            opacity: 0.9;
        }
        
        .artist-albums {
            font-size: 1rem;
            line-height: 1.6;
            opacity: 0.8;
            text-align: center;
        }
        
        .playlist-container {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border-radius: 0 0 15px 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            opacity: 0;
            transform: translateY(-20px);
            transition: all 0.4s ease;
            z-index: 100;
            max-height: 400px;
            overflow-y: auto;
            display: none;
        }
        
        .playlist-container.active {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }
        
        .playlist-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .playlist-title {
            font-size: 1.8rem;
            font-weight: bold;
            color: #333;
        }
        
        .close-btn {
            background: none;
            border: none;
            font-size: 2rem;
            cursor: pointer;
            color: #999;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .close-btn:hover {
            background: #f0f0f0;
            color: #333;
        }
        
        .song-list {
            display: grid;
            gap: 20px;
        }
        
        .song-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-radius: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .song-item:hover {
            background: #f8f9fa;
            transform: translateX(5px);
        }
        
        .album-cover {
            width: 70px;
            height: 70px;
            background: #f0f0f0;
            border-radius: 8px;
            margin-right: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: #999;
            position: relative;
            overflow: hidden;
            flex-shrink: 0;
            cursor: pointer;
        }
        
        .album-cover::before {
            content: '';
            position: absolute;
            top: 10px;
            left: 10px;
            right: 20px;
            bottom: 20px;
            background: #e0e0e0;
            border-radius: 4px;
        }
        
        .play-icon {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.8rem;
            color: #007bff;
            display: none;
            background: rgba(255,255,255,0.9);
            width: 35px;
            height: 35px;
            border-radius: 50%;
            align-items: center;
            justify-content: center;
            z-index: 2;
        }
        
        .album-cover.playing .play-icon {
            display: flex;
        }
        
        .song-info {
            flex: 1;
            min-width: 0;
        }
        
        .song-title {
            font-size: 1.2rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            transition: color 0.3s ease;
            cursor: pointer;
        }
        
        .song-title:hover {
            color: #007bff;
        }
        
        .song-artist-album {
            font-size: 1rem;
            color: #666;
            line-height: 1.4;
        }
        
        .audio-player {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border-radius: 50px;
            padding: 15px 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: none;
            align-items: center;
            gap: 15px;
            z-index: 1001;
            min-width: 350px;
        }
        
        .audio-player.active {
            display: flex;
        }
        
        .audio-player-cover {
            width: 40px;
            height: 40px;
            background: #f0f0f0;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            color: #999;
            flex-shrink: 0;
        }
        
        .audio-player-info {
            flex: 1;
            min-width: 0;
        }
        
        .audio-player-title {
            font-size: 0.9rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 2px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .audio-player-artist {
            font-size: 0.8rem;
            color: #666;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .audio-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .audio-btn {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: #007bff;
            padding: 5px;
            border-radius: 50%;
            transition: background 0.3s ease;
        }
        
        .audio-btn:hover {
            background: #f0f0f0;
        }
        
        .preview-badge {
            background: #1db954;
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            margin-left: 5px;
        }
        
        .progress-container {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 5px;
        }
        
        .progress-bar {
            flex: 1;
            height: 4px;
            background: #e0e0e0;
            border-radius: 2px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: #007bff;
            width: 0%;
            transition: width 0.1s ease;
        }
        
        .time-display {
            font-size: 0.7rem;
            color: #666;
            min-width: 35px;
            text-align: center;
        }
        
        .mouse-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #999;
            font-size: 1rem;
            pointer-events: none;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @media (max-width: 768px) {
            .header {
                padding: 15px 20px;
            }
            
            .festival-title {
                font-size: 1.3rem;
            }
            
            .day-tabs {
                gap: 30px;
                margin-bottom: 40px;
            }
            
            .artist-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
            }
            
            .artist-name {
                font-size: 2rem;
            }
            
            .playlist-container {
                padding: 20px;
                max-height: 70vh;
            }
            
            .song-item {
                padding: 12px;
            }
            
            .album-cover {
                width: 60px;
                height: 60px;
                margin-right: 15px;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <button class="menu-btn">☰</button>
        <h1 class="festival-title">HAVE A NICE TRIP 2025</h1>
        <button class="ticket-btn">Ticket</button>
    </header>

    <div class="main-container">
        <div class="day-tabs">
            <div class="day-tab active" data-day="1">1일차</div>
            <div class="day-tab" data-day="2">2일차</div>
        </div>

    <div class="audio-player">
        <div class="audio-player-cover">♪</div>
        <div class="audio-player-info">
            <div>
                <span class="audio-player-title">곡 제목</span>
                <span class="preview-badge">30초 미리듣기</span>
            </div>
            <div class="audio-player-artist">아티스트</div>
            <div class="progress-container">
                <span class="time-display" id="currentTime">0:00</span>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <span class="time-display" id="totalTime">0:30</span>
            </div>
        </div>
        <div class="audio-controls">
            <button class="audio-btn" id="playPauseBtn">⏸</button>
            <button class="audio-btn" id="closePlayerBtn">✕</button>
        </div>
        <audio id="audioElement" style="display: none;"></audio>
    </div>

        <div class="artist-grid" id="day1-artists">
            <div class="artist-card" data-artist="peach-pit">
                <div class="artist-image">
                    <div class="mouse-text">마우스오버</div>
                </div>
                <div class="artist-overlay">
                    <div class="artist-name">Peach Pit</div>
                    <div class="artist-country">Canada</div>
                    <div class="artist-albums">Being So Normal (2017)<br>From 2 to 3 (2022)<br>Magpie (2024)</div>
                </div>
            </div>

            <div class="artist-card" data-artist="iu">
                <div class="artist-image">
                    <div class="mouse-text">마우스오버</div>
                </div>
                <div class="artist-overlay">
                    <div class="artist-name">아이유 (IU)</div>
                    <div class="artist-country">대한민국</div>
                    <div class="artist-albums">Love Poem (2019)<br>LILAC (2021)<br>The Winning (2024)</div>
                </div>
            </div>

            <div class="artist-card" data-artist="nothing-but-thieves">
                <div class="artist-image">
                    <div class="mouse-text">마우스오버</div>
                </div>
                <div class="artist-overlay">
                    <div class="artist-name">Nothing But Thieves</div>
                    <div class="artist-country">United Kingdom</div>
                    <div class="artist-albums">Nothing But Thieves (2015)<br>Broken Machine (2017)<br>Dead Club City (2023)</div>
                </div>
            </div>

            <div class="artist-card" data-artist="wave-to-earth">
                <div class="artist-image">
                    <div class="mouse-text">마우스오버</div>
                </div>
                <div class="artist-overlay">
                    <div class="artist-name">Wave to Earth</div>
                    <div class="artist-country">대한민국</div>
                    <div class="artist-albums">Summer Flows 0.02 (2020)<br>0.1 flaws and all (2023)<br>play with earth! 0.03 (2024)</div>
                </div>
            </div>
        </div>

        <div class="artist-grid" id="day2-artists" style="display: none;">
            <div class="artist-card" data-artist="bts">
                <div class="artist-image">
                    <div class="mouse-text">마우스오버</div>
                </div>
                <div class="artist-overlay">
                    <div class="artist-name">방탄소년단 (BTS)</div>
                    <div class="artist-country">대한민국</div>
                    <div class="artist-albums">Map of the Soul: 7 (2020)<br>BE (2020)<br>Proof (2022)</div>
                </div>
            </div>

            <div class="artist-card" data-artist="arctic-monkeys">
                <div class="artist-image">
                    <div class="mouse-text">마우스오버</div>
                </div>
                <div class="artist-overlay">
                    <div class="artist-name">Arctic Monkeys</div>
                    <div class="artist-country">United Kingdom</div>
                    <div class="artist-albums">AM (2013)<br>Tranquility Base Hotel (2018)<br>The Car (2022)</div>
                </div>
            </div>

            <div class="artist-card" data-artist="newjeans">
                <div class="artist-image">
                    <div class="mouse-text">마우스오버</div>
                </div>
                <div class="artist-overlay">
                    <div class="artist-name">NewJeans</div>
                    <div class="artist-country">대한민국</div>
                    <div class="artist-albums">New Jeans (2022)<br>Get Up (2023)<br>How Sweet (2024)</div>
                </div>
            </div>

            <div class="artist-card" data-artist="mac-miller">
                <div class="artist-image">
                    <div class="mouse-text">마우스오버</div>
                </div>
                <div class="artist-overlay">
                    <div class="artist-name">Mac Miller</div>
                    <div class="artist-country">United States</div>
                    <div class="artist-albums">Swimming (2018)<br>Circles (2020)<br>Balloonerism (2024)</div>
                </div>
            </div>
        </div>
    </div>

    <div class="playlist-container">
        <div class="playlist-header">
            <h3 class="playlist-title">플레이리스트</h3>
            <button class="close-btn">&times;</button>
        </div>
        <div class="song-list">
            <!-- 플레이리스트는 JavaScript로 동적 생성 -->
        </div>
    </div>

    <script>
        // 스포티파이 Web API 설정
        const SPOTIFY_CLIENT_ID = '65d8253ff5b94025b21cfa41b54f1be9'; // 실제 클라이언트 ID로 교체 필요
        let spotifyAccessToken = null;

        // 스포티파이 액세스 토큰 가져오기 (Client Credentials Flow)
        async function getSpotifyToken() {
            // 실제 구현시에는 서버에서 토큰을 받아와야 합니다
            // 여기서는 데모용으로 더미 토큰을 사용합니다
            return 'demo_token';
        }

        // 스포티파이에서 트랙 정보 가져오기
        async function getSpotifyTrack(trackId) {
            try {
                if (!spotifyAccessToken) {
                    spotifyAccessToken = await getSpotifyToken();
                }
                
                // 실제 API 호출 (데모용으로는 더미 데이터 반환)
                // const response = await fetch(`https://api.spotify.com/v1/tracks/${trackId}`, {
                //     headers: {
                //         'Authorization': `Bearer ${spotifyAccessToken}`
                //     }
                // });
                // const data = await response.json();
                
                // 데모용 더미 데이터
                return {
                    preview_url: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3",
                    name: "데모 곡",
                    artists: [{ name: "데모 아티스트" }]
                };
            } catch (error) {
                console.error('스포티파이 API 에러:', error);
                return null;
            }
        }

        // 아티스트별 플레이리스트 데이터 (스포티파이 트랙 ID 포함)
        const artistPlaylists = {
            'peach-pit': [
                {
                    title: "Peach Pit",
                    artist: "Peach Pit",
                    album: "Sweet FA (2016)",
                    spotifyId: "3VjJk6gAJAcq2CjdBHryeG",
                    previewUrl: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" // 데모용
                },
                {
                    title: "Tell Me You Love Me",
                    artist: "Peach Pit",
                    album: "Magpie (2018)",
                    spotifyId: "7zYTHJg25VDAxBGthPiWZZ",
                    previewUrl: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3"
                },
                {
                    title: "Tommy's Party",
                    artist: "Peach Pit",
                    album: "Being So Normal (2018)",
                    spotifyId: "1K9iBZR2CQoMv1YTc1Pjd6",
                    previewUrl: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3"
                },
                {
                    title: "Shampoo Bottles",
                    artist: "Peach Pit",
                    album: "Shampoo Bottles (2020)",
                    spotifyId: "6hNrmDMFHzjSDmgHWHg8kA",
                    previewUrl: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3"
                }
            ],
            'iu': [
                {
                    title: "Through the Night",
                    artist: "아이유",
                    album: "밤편지 (2017)",
                    spotifyId: "1ktPjGIzXSfIJdnZe7VhBw",
                    previewUrl: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3"
                },
                {
                    title: "Blueming",
                    artist: "아이유",
                    album: "Love Poem (2019)",
                    spotifyId: "7nKoXMgTsHLZE8VZQ2H2kO",
                    previewUrl: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3"
                },
                {
                    title: "Celebrity",
                    artist: "아이유",
                    album: "Celebrity (2021)",
                    spotifyId: "4umIPjkehX1r7uhmGvXiSV",
                    previewUrl: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3"
                },
                {
                    title: "Love wins all",
                    artist: "아이유",
                    album: "The Winning (2024)",
                    spotifyId: "5xrtzzzikpG3BLbo4q1Yul",
                    previewUrl: "https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3"
                }
            ],
            'nothing-but-thieves': [
                {
                    title: "Amsterdam",
                    artist: "Nothing But Thieves",
                    album: "Nothing But Thieves (2015)",
                    spotifyUrl: "https://open.spotify.com/track/5JUYtQl2td9QyWzshRWGNm"
                },
                {
                    title: "Sorry",
                    artist: "Nothing But Thieves",
                    album: "Broken Machine (2017)",
                    spotifyUrl: "https://open.spotify.com/track/0HrgHFNMcSCpO3yFCaMbxE"
                },
                {
                    title: "Impossible",
                    artist: "Nothing But Thieves",
                    album: "Moral Panic (2020)",
                    spotifyUrl: "https://open.spotify.com/track/4qO3mBOzOKN1VlqFGg77mL"
                },
                {
                    title: "Welcome to the DCC",
                    artist: "Nothing But Thieves",
                    album: "Dead Club City (2023)",
                    spotifyUrl: "https://open.spotify.com/track/2kXLgbhIiZxF5t3HjFONOb"
                }
            ],
            'wave-to-earth': [
                {
                    title: "seasons",
                    artist: "Wave to Earth",
                    album: "Summer Flows 0.02 (2021)",
                    spotifyUrl: "https://open.spotify.com/track/2EWhrEJ4RGNBKdNvFgU8Pw"
                },
                {
                    title: "nouvelle vague",
                    artist: "Wave to Earth",
                    album: "0.1 flaws and all (2023)",
                    spotifyUrl: "https://open.spotify.com/track/6ShzUZPPxRj0EZGSWgFUYu"
                },
                {
                    title: "bad",
                    artist: "Wave to Earth",
                    album: "0.1 flaws and all (2023)",
                    spotifyUrl: "https://open.spotify.com/track/1QO6GpIcwS4BXI4CbomgJz"
                },
                {
                    title: "play with earth!",
                    artist: "Wave to Earth",
                    album: "play with earth! 0.03 (2024)",
                    spotifyUrl: "https://open.spotify.com/track/4pLEKaBKrWK3nNxTnuF8oU"
                }
            ],
            'bts': [
                {
                    title: "Dynamite",
                    artist: "BTS",
                    album: "BE (2020)",
                    spotifyUrl: "https://open.spotify.com/track/0t1kP63rueHleOhQkYSXFY"
                },
                {
                    title: "Butter",
                    artist: "BTS",
                    album: "Butter (2021)",
                    spotifyUrl: "https://open.spotify.com/track/1mWdTewIgB3gtBM3TOSFhB"
                },
                {
                    title: "Spring Day",
                    artist: "BTS",
                    album: "You Never Walk Alone (2017)",
                    spotifyUrl: "https://open.spotify.com/track/0HNHArXNS3UYdWAR6GYsKg"
                },
                {
                    title: "Yet To Come",
                    artist: "BTS",
                    album: "Proof (2022)",
                    spotifyUrl: "https://open.spotify.com/track/1KJgqMM8W1YzT5nw5xP4Mn"
                }
            ],
            'arctic-monkeys': [
                {
                    title: "Do I Wanna Know?",
                    artist: "Arctic Monkeys",
                    album: "AM (2013)",
                    spotifyUrl: "https://open.spotify.com/track/5FVd6KXrgO9B3JPmC8OPst"
                },
                {
                    title: "R U Mine?",
                    artist: "Arctic Monkeys",
                    album: "AM (2013)",
                    spotifyUrl: "https://open.spotify.com/track/71RfZOZzJlKQ0w7hEhOHZp"
                },
                {
                    title: "Four Out Of Five",
                    artist: "Arctic Monkeys",
                    album: "Tranquility Base Hotel (2018)",
                    spotifyUrl: "https://open.spotify.com/track/58ge6dfP91o9oXMzq3XkIS"
                },
                {
                    title: "There'd Better Be A Mirrorball",
                    artist: "Arctic Monkeys",
                    album: "The Car (2022)",
                    spotifyUrl: "https://open.spotify.com/track/7J9SZQTXwjz2P3sOvIrlO0"
                }
            ],
            'newjeans': [
                {
                    title: "Attention",
                    artist: "NewJeans",
                    album: "New Jeans (2022)",
                    spotifyUrl: "https://open.spotify.com/track/2pIUpMhHL6L9Z5lnKxJJr9"
                },
                {
                    title: "Hype Boy",
                    artist: "NewJeans",
                    album: "New Jeans (2022)",
                    spotifyUrl: "https://open.spotify.com/track/0a4MMyCrzT0En247IhqZbS"
                },
                {
                    title: "Get Up",
                    artist: "NewJeans",
                    album: "Get Up (2023)",
                    spotifyUrl: "https://open.spotify.com/track/6F5c58TMEs1byxUstkzVeM"
                },
                {
                    title: "How Sweet",
                    artist: "NewJeans",
                    album: "How Sweet (2024)",
                    spotifyUrl: "https://open.spotify.com/track/38zsOOcu31XbbYj9BIPUF1"
                }
            ],
            'mac-miller': [
                {
                    title: "Good News",
                    artist: "Mac Miller",
                    album: "Circles (2020)",
                    spotifyUrl: "https://open.spotify.com/track/6Dy7xrBqOPa6OdyCy0LpjM"
                },
                {
                    title: "Self Care",
                    artist: "Mac Miller",
                    album: "Swimming (2018)",
                    spotifyUrl: "https://open.spotify.com/track/1WDfhZdm7sLFQNLFfSRhGm"
                },
                {
                    title: "Circles",
                    artist: "Mac Miller",
                    album: "Circles (2020)",
                    spotifyUrl: "https://open.spotify.com/track/7hqnEcOSsWOe9oYOIYKGmD"
                },
                {
                    title: "Blue World",
                    artist: "Mac Miller",
                    album: "Circles (2020)",
                    spotifyUrl: "https://open.spotify.com/track/3YZJt84oJm4CFlVyh3IjCF"
                }
            ]
        };

        // DOM 요소들
        const dayTabs = document.querySelectorAll('.day-tab');
        const day1Artists = document.getElementById('day1-artists');
        const day2Artists = document.getElementById('day2-artists');
        const audioPlayer = document.querySelector('.audio-player');
        const audioElement = document.getElementById('audioElement');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const closePlayerBtn = document.getElementById('closePlayerBtn');
        const audioPlayerTitle = document.querySelector('.audio-player-title');
        const audioPlayerArtist = document.querySelector('.audio-player-artist');
        const progressFill = document.getElementById('progressFill');
        const currentTimeDisplay = document.getElementById('currentTime');
        const totalTimeDisplay = document.getElementById('totalTime');

        let currentPlayingElement = null;
        let currentPlayingCard = null;
        let previewTimer = null;

        // 일차 탭 전환
        dayTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                dayTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                const day = tab.dataset.day;
                if (day === '1') {
                    day1Artists.style.display = 'grid';
                    day2Artists.style.display = 'none';
                } else {
                    day1Artists.style.display = 'none';
                    day2Artists.style.display = 'grid';
                }
                
                // 모든 플레이리스트 닫기
                document.querySelectorAll('.artist-card').forEach(card => {
                    hidePlaylist(card);
                });
            });
        });

        // 아티스트 카드 이벤트 등록
        function setupArtistCards() {
            const artistCards = document.querySelectorAll('.artist-card');
            
            artistCards.forEach(card => {
                const overlay = card.querySelector('.artist-overlay');
                let playlistContainer = card.querySelector('.playlist-container');
                
                card.addEventListener('click', () => {
                    const artistId = card.dataset.artist;
                    
                    // 다른 카드들의 오버레이와 플레이리스트 닫기
                    document.querySelectorAll('.artist-card').forEach(otherCard => {
                        if (otherCard !== card) {
                            const otherOverlay = otherCard.querySelector('.artist-overlay');
                            const otherPlaylist = otherCard.querySelector('.playlist-container');
                            otherOverlay.classList.remove('active');
                            if (otherPlaylist) {
                                otherPlaylist.classList.remove('active');
                            }
                        }
                    });
                    
                    // 현재 오버레이 토글
                    overlay.classList.toggle('active');
                    
                    if (overlay.classList.contains('active')) {
                        // 플레이리스트 컨테이너가 없으면 생성
                        if (!playlistContainer) {
                            playlistContainer = document.createElement('div');
                            playlistContainer.className = 'playlist-container';
                            playlistContainer.innerHTML = `
                                <div class="playlist-header">
                                    <h3 class="playlist-title"></h3>
                                    <button class="close-btn">&times;</button>
                                </div>
                                <div class="song-list"></div>
                            `;
                            card.appendChild(playlistContainer);
                            
                            // 닫기 버튼 이벤트
                            const closeBtn = playlistContainer.querySelector('.close-btn');
                            closeBtn.addEventListener('click', (e) => {
                                e.stopPropagation();
                                hidePlaylist(card);
                            });
                        }
                        
                        showPlaylist(artistId, card);
                    } else {
                        hidePlaylist(card);
                    }
                });
            });
        }

        // 플레이리스트 표시
        function showPlaylist(artistId, card) {
            const playlist = artistPlaylists[artistId];
            if (!playlist) return;

            const playlistContainer = card.querySelector('.playlist-container');
            const playlistTitle = playlistContainer.querySelector('.playlist-title');
            const songList = playlistContainer.querySelector('.song-list');
            
            const artistName = getArtistName(artistId);
            playlistTitle.textContent = `${artistName} 플레이리스트`;
            
            songList.innerHTML = '';
            playlist.forEach(song => {
                const songElement = createSongElement(song);
                songList.appendChild(songElement);
            });

            setTimeout(() => {
                playlistContainer.classList.add('active');
            }, 100);
        }

        // 플레이리스트 숨기기
        function hidePlaylist(card) {
            const overlay = card.querySelector('.artist-overlay');
            const playlistContainer = card.querySelector('.playlist-container');
            
            overlay.classList.remove('active');
            if (playlistContainer) {
                playlistContainer.classList.remove('active');
            }
        }

        // 곡 요소 생성
        function createSongElement(song) {
            const songItem = document.createElement('div');
            songItem.className = 'song-item';
            
            songItem.innerHTML = `
                <div class="album-cover">
                    <div class="play-icon">▶</div>
                </div>
                <div class="song-info">
                    <div class="song-title">${song.title}</div>
                    <div class="song-artist-album">${song.artist} • ${song.album}</div>
                </div>
            `;

            // 곡 제목과 앨범 커버 클릭 이벤트
            const songTitle = songItem.querySelector('.song-title');
            const albumCover = songItem.querySelector('.album-cover');
            
            const playMusic = async () => {
                // 이전 재생 중인 요소 정리
                if (currentPlayingElement) {
                    currentPlayingElement.classList.remove('playing');
                }
                
                // 미리듣기 타이머 정리
                if (previewTimer) {
                    clearTimeout(previewTimer);
                }
                
                // 스포티파이에서 실제 미리듣기 URL 가져오기 (실제 구현시)
                // const trackData = await getSpotifyTrack(song.spotifyId);
                // const previewUrl = trackData ? trackData.preview_url : song.previewUrl;
                
                // 데모용으로 기본 URL 사용
                const previewUrl = song.previewUrl;
                
                if (!previewUrl) {
                    alert('이 곡의 미리듣기가 제공되지 않습니다.');
                    return;
                }
                
                // 음악 재생
                audioElement.src = previewUrl;
                audioElement.play();
                
                // UI 업데이트
                albumCover.classList.add('playing');
                currentPlayingElement = albumCover;
                
                // 오디오 플레이어 표시
                audioPlayerTitle.textContent = song.title;
                audioPlayerArtist.textContent = song.artist;
                audioPlayer.classList.add('active');
                playPauseBtn.textContent = '⏸';
                
                // 30초 후 자동 정지
                previewTimer = setTimeout(() => {
                    stopPreview();
                }, 30000);
            };
            
            songTitle.addEventListener('click', playMusic);
            albumCover.addEventListener('click', playMusic);

            return songItem;
        }

        // 미리듣기 정지
        function stopPreview() {
            audioElement.pause();
            audioElement.currentTime = 0;
            audioPlayer.classList.remove('active');
            if (currentPlayingElement) {
                currentPlayingElement.classList.remove('playing');
                currentPlayingElement = null;
            }
            if (previewTimer) {
                clearTimeout(previewTimer);
                previewTimer = null;
            }
            progressFill.style.width = '0%';
            currentTimeDisplay.textContent = '0:00';
        }

        // 시간 포맷팅
        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs.toString().padStart(2, '0')}`;
        }

        // 오디오 플레이어 컨트롤
        playPauseBtn.addEventListener('click', () => {
            if (audioElement.paused) {
                audioElement.play();
                playPauseBtn.textContent = '⏸';
            } else {
                audioElement.pause();
                playPauseBtn.textContent = '▶';
            }
        });

        closePlayerBtn.addEventListener('click', () => {
            stopPreview();
        });

        // 오디오 이벤트
        audioElement.addEventListener('timeupdate', () => {
            if (audioElement.duration) {
                const progress = (audioElement.currentTime / audioElement.duration) * 100;
                progressFill.style.width = `${progress}%`;
                currentTimeDisplay.textContent = formatTime(audioElement.currentTime);
            }
        });

        audioElement.addEventListener('loadedmetadata', () => {
            // 30초로 제한
            const duration = Math.min(audioElement.duration, 30);
            totalTimeDisplay.textContent = formatTime(duration);
        });

        audioElement.addEventListener('ended', () => {
            stopPreview();
        });

        // 아티스트 이름 가져오기
        function getArtistName(artistId) {
            const artistNames = {
                'peach-pit': 'Peach Pit',
                'iu': '아이유',
                'nothing-but-thieves': 'Nothing But Thieves',
                'wave-to-earth': 'Wave to Earth',
                'bts': 'BTS',
                'arctic-monkeys': 'Arctic Monkeys',
                'newjeans': 'NewJeans',
                'mac-miller': 'Mac Miller'
            };
            return artistNames[artistId] || '';
        }

        // ESC 키로 플레이리스트 닫기
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                document.querySelectorAll('.artist-card').forEach(card => {
                    hidePlaylist(card);
                });
            }
        });

        // 초기화
        setupArtistCards();
    </script>
</body>
</html>